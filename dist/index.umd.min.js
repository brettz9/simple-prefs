!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).SimplePrefs={})}(this,function(e){"use strict";function t(e,t,r,n,u,a,i){try{var f=e[a](i),s=f.value}catch(e){return void r(e)}f.done?t(s):Promise.resolve(s).then(n,u)}function r(e){return function(){var r=this,n=arguments;return new Promise(function(u,a){var i=e.apply(r,n);function f(e){t(i,u,a,f,s,"next",e)}function s(e){t(i,u,a,f,s,"throw",e)}f(void 0)})}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var i=function(){function e(t){n(this,e),this.configurePrefs(t)}return a(e,[{key:"configurePrefs",value:function(e){var t=e.namespace,r=e.defaults,n=e.prefDefaults,u=void 0===n?s(r):n;Object.assign(this,{namespace:t,prefDefaults:u})}},{key:"getPref",value:function(){var e=r(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem(this.namespace+t),e.abrupt("return",null===r?this.prefDefaults.getPrefDefault(t):JSON.parse(r));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setPref",value:function(){var e=r(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.setItem(this.namespace+t,JSON.stringify(r)));case 1:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),f=function(){function e(t){var r=t.defaults;n(this,e),this.defaults=r}return a(e,[{key:"getPrefDefault",value:function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.defaults[t]);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setPrefDefault",value:function(){var e=r(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.defaults[t],this.defaults[t]=r,e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function s(e){return new f({defaults:e})}e.SimplePrefs=i,e.SimplePrefsDefaults=f,e.simplePrefsDefaults=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.min.js.map
