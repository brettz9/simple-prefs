!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).SimplePrefs={})}(this,(function(e){"use strict";function t(e,t,r,n,u,a,i){try{var s=e[a](i),f=s.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,u)}function r(e){return function(){var r=this,n=arguments;return new Promise((function(u,a){var i=e.apply(r,n);function s(e){t(i,u,a,s,f,"next",e)}function f(e){t(i,u,a,s,f,"throw",e)}s(void 0)}))}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var i=function(){function e(t){n(this,e),this.configurePrefs(t)}var t,u;return a(e,[{key:"configurePrefs",value:function(e){var t=e.namespace,r=e.defaults,n=e.prefDefaults,u=void 0===n?f(r):n;Object.assign(this,{namespace:t,prefDefaults:u})}},{key:"getPref",value:(u=r(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem(this.namespace+t),e.abrupt("return",null===r?this.prefDefaults.getPrefDefault(t):JSON.parse(r));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"setPref",value:(t=r(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.setItem(this.namespace+t,JSON.stringify(r)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"bind",value:function(){return{getPref:this.getPref.bind(this),setPref:this.setPref.bind(this)}}}]),e}(),s=function(){function e(t){var r=t.defaults;n(this,e),this.defaults=r}var t,u;return a(e,[{key:"getPrefDefault",value:(u=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.defaults[t]);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"setPrefDefault",value:(t=r(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.defaults[t],this.defaults[t]=r,e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}();function f(e){return new s({defaults:e})}e.SimplePrefs=i,e.SimplePrefsDefaults=s,e.simplePrefsDefaults=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
